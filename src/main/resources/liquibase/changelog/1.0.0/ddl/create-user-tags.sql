CREATE TABLE user_tags (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id BIGINT NOT NULL,
  tag VARCHAR(255) NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

ALTER TABLE user_tags
  ADD CONSTRAINT uq_user_tags_user_tag UNIQUE (user_id, tag);

ALTER TABLE user_tags
  ADD CONSTRAINT fk_user_tags_users FOREIGN KEY (user_id)
  REFERENCES users(user_id)
  ON DELETE CASCADE;
